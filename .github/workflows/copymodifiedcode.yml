name: Copiar código modificado

on:
    push:
        branches:
            - main
        # paths:
        #   - 'Export_Code/**.gml'

jobs:
    copy_code:
        runs-on: ubuntu-latest

        steps:
            - name: "Checkout código"
              uses: actions/checkout@v2

            - id: files 
              uses: jitterbit/get-changed-files@v1
            
            - name: "Copiar archivos modificados"
              run: |
                    mkdir Copy_Code

                    ls

                    for changed_file in ${{ steps.files.outputs.modified }}; do
                        echo "Changed file: $changed_file"
                        if [[ $changed_file == *"Export_Code"* ]]; then
                            cp $changed_file Copy_Code 
                        fi
                    done

                    ls Copy_Code
                                                                                                                                                            
